@model IEnumerable<CristalImb.Model.Entities.Rol>

@{
    ViewData["Title"] = "IndexRol";
}

@section Styles{

}

<div class="content">
    <div class="container-fluid">
        <h3 class="text-center">Roles.</h3>
        <hr />
        <div class="m-0 row justify-content-center align-items-baseline">
            <div class="botonCrear col-12 p-3 text-center accent-teal">
                <br />
                <p>
                    <a onclick="mostrarModal('@Url.Action("CrearRol","Rol", "null", Context.Request.Scheme)', 'Crear rol')" class="btn btn-outline-success"><i class="fas fa-plus"></i> Crear rol.</a>
                </p>
                <br />
            </div>
            <div class="col-6">
                <h3 class="text-center">Roles</h3>
                <table class="table table-striped table-bordered col-12" id="tabla">
                    <thead class="bg-dark text-white">
                        <tr>
                            <th>Rol</th>
                            <th>Estado</th>
                            <th> </th>
                            <th> </th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var r in Model)
                        {
                        <tr>
                            <td>@r.Name</td>
                            <td>
                                @if (r.Estado == true)
                                {
                                    <p>Activo</p>
                                }
                                else
                                {
                                    <p>Desactivo</p>
                                }
                            </td>
                            <td>
                                @if (r.Estado == true)
                                {
                                    <form asp-action="ActualizarEstado" asp-route-id="@r.Name">
                                        <button type="submit"><i class="fas fa-toggle-on"></i></button>
                                    </form>
                                }
                                else if (r.Estado == false)
                                {
                                    <form asp-action="ActualizarEstado" asp-route-id="@r.Name">
                                        <button type="submit"><i class="fas fa-toggle-off"></i></button>
                                    </form>
                                }
                            </td>
                            <td>
                                <a asp-action="EditarRol" asp-route-rol="@r.Name" class="btn alert-primary">Editar</a>
                            </td>
                        </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@section Scripts{
    <script src="~/js/Tabla.js"></script>
    <script src="~/js/modal.js"></script>
}